<?php
/**
 * NOTE: This class is auto generated by the swagger code generator program. Do not edit the class manually.
 */
namespace Hellofresh\Client\Api;

{{#operations}}
class {{classname}}
{
    /**
      * Instances of the api client used for communication between client and server
      *
      * @param APIClient $apiClient
      */
    function __construct(IAPIClient $apiClient)
    {
        $this->apiClient = $apiClient;
    }

    {{#operation}}
    /**
      * {{summary}}
      {{#allParams}}
      * @param {{dataType}} ${{paramName}} {{description}} ({{^optional}}required{{/optional}}{{#optional}}optional{{/optional}})
      {{/allParams}}
      * @return Hellofresh\Client\Api\Models\{{returnType}}
      */
    public function {{nickname}}({{#allParams}}${{paramName}}{{#optional}}=null{{/optional}}{{#hasMore}}, {{/hasMore}}{{/allParams}}, $inputHeaderParams=null)
    {
        //parse inputs
        $resourcePath = "{{path}}";
        $resourcePath = str_replace("{format}", "json", $resourcePath);
        $method = "{{httpMethod}}";
        $queryParams = array();
        $headerParams = array();
        $headerParams['Accept'] = '{{#produces}}{{mediaType}}{{#hasMore}},{{/hasMore}}{{/produces}}';
        $headerParams['Content-Type'] = '{{#consumes}}{{mediaType}}{{#hasMore}},{{/hasMore}}{{/consumes}}';

        if ($inputHeaderParams != null) {
            foreach ($inputHeaderParams as $key => $val) {
                $headerParams[$key] = $val;
            }
        }

        {{#queryParams}}
        if(${{paramName}} != null) {
            $queryParams['{{paramName}}'] = $this->apiClient->toQueryValue(${{paramName}});
        }
        {{/queryParams}}

        {{#headerParams}}
        if(${{paramName}} != null) {
            $headerParams['{{paramName}}'] = $this->apiClient->toHeaderValue(${{paramName}});
        }
        {{/headerParams}}

        {{#pathParams}}
        if(${{paramName}} != null) {
            $resourcePath = str_replace("{" . "{{paramName}}" . "}",
                                      $this->apiClient->toPathValue(${{paramName}}), $resourcePath);
        }
        {{/pathParams}}

        // Generate form params
        if (!isset($body)) {
            $body = array();
        }
        {{#formParams}}
        if(${{paramName}} != null) {
            $body['{{paramName}}'] = ${{paramName}};
        }
        {{/formParams}}
        if (empty($body)) {
            $body = null;
        }

        // Make the API Call
        $response = $this->apiClient->callAPI($resourcePath, $method,
                                              $queryParams, $body,
                                              $headerParams);

        {{#returnType}}

        if(!$response)
        {
            return null;
        }

        $namespace = 'Hellofresh\Client\Api\Models\\';
        $class = '{{returnType}}';
        $fqcn = $class;
        if($class != ''){
            $fqcn = $namespace . $class;
        }
        $responseObject = $this->apiClient->deserialize($response,$fqcn);
        return $responseObject;
        {{/returnType}}
    }
    {{newline}}
    {{/operation}}
}
{{/operations}}

